# Bug Fix: $TITLE

## Metadata
| Field | Value |
|-------|-------|
| Created | $TIMESTAMP |
| Status | in_progress |
| Type | bug_fix |
| Phase | $PHASE |
| Priority | $PRIORITY |

## Original Prompt
> $PROMPT

## Error Details
- Error Message: $ERROR
- Stack Trace: $STACK
- Affected Files: $FILES

## Context Loaded
- Current Phase: $PHASE_NAME
- Relevant Lessons: $LESSONS
- Similar Past Issues: $SIMILAR

## Root Cause Analysis (5 Whys)
1. Why did $SYMPTOM occur? →
2. Why? →
3. Why? →
4. Why? →
5. Why? → **ROOT CAUSE**:

## Solution Options
| Option | Approach | Risk | Effort |
|--------|----------|------|--------|
| A | | | |
| B | | | |

## Chosen Solution
**Option**:
**Rationale**:

## Steps
### Investigation
- [ ] 1. Reproduce the issue
- [ ] 2. Identify affected code paths
- [ ] 3. Search lessons for similar issues

### Fix
- [ ] 4. Implement fix
- [ ] 5. Add regression test
- [ ] 6. Run all tests

### Verify
- [ ] 7. Typecheck passes
- [ ] 8. All tests pass
- [ ] 9. No new lint errors

## Current Step
**Step 1**: Reproduce the issue

## Files to Modify
| File | Action | Status |
|------|--------|--------|

## Resume Notes
Last action:
Next action:
Blockers:

## Lesson to Capture
- Category: bug_fix
- Root Cause:
- Prevention:
- Patterns to Follow:
- Patterns to Avoid:
